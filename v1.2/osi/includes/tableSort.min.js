function initHeaders(e){e=document.getElementById(e);for(var t=e.rows[0].cells.length,r=0;t>r;r++)e.rows[0].cells[r].addEventListener?e.rows[0].cells[r].addEventListener("click",tableSort,!1):e.rows[0].cells[r].attachEvent&&e.rows[0].cells[r].attachEvent("onclick",tableSort)}function tableSort(e){function t(t,r){var n=!1;return t=t.cells[l].textContent,r=r.cells[l].textContent,/^\d+$/.test(t)&&(t=parseInt(t)),/^\d+$/.test(r)&&(r=parseInt(r)),isNumeric(t)&&isNumeric(r)?n=r>=t?"asc"==e.id?!0:!1:"desc"==e.id?!0:!1:(t=String(t),r=String(r),n=r.localeCompare(t)>=0?"asc"==e.id?!0:!1:"desc"==e.id?!0:!1),n}function r(e){if(n++,e.length>1){var l=new Array,a=new Array,o=e.pop(),s=e.length;for(i=0;s>i;i++)t(o,e[i])?l.push(e[i]):a.push(e[i]);return Array.prototype.concat(r(a),o,r(l))}return e}var n=0,l=0;if(e.currentTarget)e=e.currentTarget;else{if(!window.event.srcElement)return console.log("Unable to determine source event. Terminating...."),!1;e=window.event.srcElement}l=e.cellIndex,-1==curNdx&&-1==lastNdx&&(curNdx=lastNdx=l),""==lastCol&&""==curCol&&(curCol=lastCol=e.innerHTML),lastNdx!=l&&(document.getElementById(tableID).rows[0].cells[lastNdx].innerHTML=lastCol,document.getElementById(tableID).rows[0].cells[lastNdx].id="",lastCol=curCol=e.innerHTML,lastNdx=l),"asc"==e.id?(e.id="desc",e.innerHTML=curCol+" (Desc)"):(e.id="asc",e.innerHTML=curCol+" (Asc)");for(var a=e.parentElement,o=a.tagName;"table"!=o.toLowerCase();)a=a.parentElement,o=a.tagName;var s=document.getElementById("replace").rows,c=new Array;for(i=0;i<s.length;i++)c.push(s[i]);isNumeric=function(e){var t=!1;return!isNaN(e)&&isFinite(e)&&(t=!0),t},b=r(c);var d=document.createElement("tbody"),u=b.length;for(i=0;u>i;i++)d.appendChild(b.shift());a.removeChild(document.getElementById("replace")),a.appendChild(d),d.setAttribute("id","replace")}var tableID="sortable",lastCol="",curCol="",lastNdx=-1,curNdx=-1;window.onload=function(){initHeaders(tableID)};